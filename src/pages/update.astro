---
	import DarkmodeToggle from '../components/DarkmodeToggle';
	import client from '../umbraco-client';
	let UMBRACO_ROOT_NODE =  import.meta.env.UMBRACO_ROOT_NODE;
	let currentSlug = Astro.params.slug || UMBRACO_ROOT_NODE;
	let origin = new URL(Astro.url).origin;
	let preview = Astro.url.searchParams.get("preview");
	const pageData = await client.getRootData(origin,currentSlug,preview).then(res => res);
	const { properties } = pageData ||Â {};
---
<DarkmodeToggle client:only override={properties?.darkmode}/>
<!-- <h1>{properties?.darkmode}</h1>
<script define:vars={{ properties: properties}} type="module">
    import { darkmode } from '../globalState';
	darkmode.set(properties?.darkmode);
</script> -->